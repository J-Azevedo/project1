#include "wordRecognizer.h"

const float one_transpost_A[] = {
	0.660499681607554,0.0503071177130242,0.105027811238292,
	0.0625580877037157,0.812168554562071,0.0720663423800991,
	0.276942230688730,0.137524327724904,0.822905846381609
};

const float one_transpost_mu[] = {
	180.088424329361,385.994177644622,1065.37824776827,1444.37541853086,1729.45733911330,1891.99924380504,
	520.258024086689,695.713338475595,715.531596866969,851.252489434497,1063.07795622578,1212.34916434400,
	190.960676262882,359.145021700165,607.072267805914,911.058915562903,1160.09244211608,1352.85815443748
};

const float one_inv_chol_sigma1[] = {
	0.012472210898682364,0.004292575368361932,-0.0014439016485978276,-0.00020712191966724137,0.0013160204087794114,-0.0007368443505564886,
	0,0.006130745795149421,-0.0010671672184474786,-0.0002984708136657455,0.000037226233233387673,0.00004400677073639628,
	0,0,0.0014084116519093518,-0.00005941037569497079,0.00017227048558776618,0.00021792976351023028,
	0,0,0,0.0011970315899746176,-0.00006256445999205319	,0.00005477479260317851,
	0,0,0,0,0.0011075116892867649,0.00012813112251807638,
	0,0,0,0,0,0.0010558445511809674
};

const float one_inv_chol_sigma2[] = {
	0.003184686373748659,0.0006819581408115864,0.00043465630825442996,0.0011048891557695487,0.0005683230484899675,0.0009091573736479398,
	0,0.0021556798212045607,-0.000234624673582019,0.00009324036991176194,0.00017674564715995149,-0.00005398127113677381,
	0,0,0.002149978391570695,-0.00013135191581045737,0.00022614773953931146,-0.00005596888461264602,
	0,0,0,0.0019221644809303182,-0.0001646240126837356,0.00029160708202756165,
	0,0,0,0,0.0015911503589052334,-0.0004754015105194878,
	0,0,0,0,0,0.001566314086001549
};

const float one_inv_chol_sigma3[] = {
	0.013628168507657249,0.0036675759331262626,-0.0004121097606654763,-0.0007719127901752626,-0.0011248986894173843,-0.0016884171098208774,
	0,0.005586160269885246,-0.0011959701114239152,-0.0012785141276913713,-0.000717875666407207,-0.0009143654084172497,
	0,0,0.00437077139084262,-0.0010226986521415463,-0.0009646852143395155,-0.000899060604476916,
	0,0,0,0.0033740677133656115,-0.000150499151249198,-0.000023760418797923427,
	0,0,0,0,0.0028964236426389485,-0.0003749389047898012,
	0,0,0,0,0,0.0022946022263938344
};

const float onelog_sqrt_det_sigma[] = {
  36.4309480815323, 
  36.3155533569326, 
  32.5290058287106
};

const arm_matrix_instance_f32 one_inv_chol_sigma[] = {
  {
    .numCols = 6,
    .numRows = 6,
    .pData = (float*)one_inv_chol_sigma1
  },
  {
    .numCols = 6,
    .numRows = 6,
    .pData = (float*)one_inv_chol_sigma2
  },
  {
    .numCols = 6,
    .numRows = 6,
    .pData = (float*)one_inv_chol_sigma3
  }
};

const float two_transpost_A[] = {
0.872466100883984,0.243109793939041,3.56292103441276e-07,
0.121843294522600,0.733383562445156,0.102424346660288,
0.00569060459341554,0.0235066436158034,0.897575297047609
};

const float two_transpost_mu[] = {
275.896065660184,352.825557550598,654.828959537339,982.873503265997,1234.50135531780,1406.29580697764,
378.851157897615,461.120441806343,1331.28882925739,1478.81420499375,1553.51917780989,1613.36984379408,
1755.89608076594,2416.46092461566,2157.51893082072,2370.43323117145,2126.41787264013,2134.01207407546
};

const float two_inv_chol_sigma1[] = {
0.00760625611193278,0.00274139471673759,0.00008504429887413735,-0.0006787410171091733,-0.0005623749602458607,0.00026416471670265783,
0,0.0063641774897561605,0.00006884830049479847,-0.000660238147850113,-0.0003746633485484633,-0.00036209967903888676,
0,0,0.0029705966906834135,-0.0000074638446136327314,-0.00031123479542225185,-0.0003978292772444093,
0,0,0,0.0030186727524911306,-0.0002836323255334194,-0.00026333729515649716,
0,0,0,0,0.0022975819221970374,-0.00015810236865420043,
0,0,0,0,0,0.0020397380285928136
};

const float two_inv_chol_sigma2[] = {
0.00821999215093654,-0.000048080622355888945,-0.00035373069572135365,0.0026184398511249485,0.0007725004942655974,0.0017839054249519839,
0,0.0024973010478116808,0.0010712381327859508,0.0009064736714245788,0.00048295115288091297,0.00025902005700227963,
0,0,0.0017650257819380771,-0.00006933967502880256,0.00015765326664939986,0.0003445534549162012,
0,0,0,0.001742659946092916,0.0002239246669337096,0.00020373582208124452,
0,0,0,0,0.0015312159206895201,0.00004257160488994044,
0,0,0,0,0,0.0013790297880516007

};

const float two_inv_chol_sigma3[] = {
0.0006892355002752553,-0.000013318429287351804,0.00006110004295676927,0.00011824396777963966,0.00005919230284776846,0.00004262788073041504,
0,0.0007995920622237317,0.0001519323363894735,-0.00004312022627603173,-0.00001173612735919083,0.00012163176215815348,
0,0,0.0008079836756483597,-0.00005296428924249432,-0.00008755237569928112,0.00014267654695838662,
0,0,0,0.0008813983078739478,-0.00003613412734722165,0.00014088073749576855,
0,0,0,0,0.0008811100905866766,0.0000013690491738860053,
0,0,0,0,0,0.0009356037567130771
};

const float twolog_sqrt_det_sigma[] = {
33.8286168914444,	
36.5537315646979,	
42.5749525431010
};

const arm_matrix_instance_f32 two_inv_chol_sigma[] = {
  {
    .numCols = 6,
    .numRows = 6,
    .pData = (float*)two_inv_chol_sigma1
  },
  {
    .numCols = 6,
    .numRows = 6,
    .pData = (float*)two_inv_chol_sigma2
	},
  {
    .numCols = 6,
    .numRows = 6,
    .pData = (float*)two_inv_chol_sigma3
  }
};

const float three_transpost_A[] = {
0.909694915571801,0.371203701041011,0.143437572542012,
0.0338319908526845,0.481947186188138,0.0294454821793506,
0.0564730935755144,0.146849112770851,0.827116945278638
};

const float three_transpost_mu[] = {
273.207795712916,386.198718349463,805.885955575431,1112.78422872659,1315.17403150370,1500.47718367273,
931.365522827009,1405.42144714253,1228.59570254103,1314.07623657689,1428.90953448558,1642.17675332439,
363.636061272595,852.019931747343,1553.42430880173,1604.98695947413,1709.91261081218,1575.51348039680
};

const float three_inv_chol_sigma1[] = {
0.006809869618100304,0.002542876519251399,-0.00019269529018643968,-0.00008912584104752589,0.0001014535564183661,0.00008506298512716419,
0,0.00601646946677443,0.0003610663677058909,0.00001841621514392203,-0.0004460292406581065,-0.00018250693933821916,
0,0,0.0021617498610928434,-0.00001410679066989844,-0.000005557653695528024,0.000009298917859951374,
0,0,0,0.0020070611147556946,-0.0002594189005750808,-0.00017726812455710124,
0,0,0,0,0.0018071160355579198,-0.00027966536665072607,
0,0,0,0,0,0.0016615113050471321
};

const float three_inv_chol_sigma2[] = {
0.0011315273848164986,0.00031169551309451877,-0.000252842406962703,0.00020255360464752108,0.00009279239914032323,-0.00008097790637862383,
0,0.0010710050285498674,-0.000282814709498296,-0.00009727285804096483,0.00005787718091695962,0.000042480634036038624,
0,0,0.0010664274633588606,-0.000294307181794524,-0.00007197356214670177,0.0001979104533061227,
0,0,0,0.001101721637275573,-0.00022114328678655846,-0.00043617285594638573,
0,0,0,0,0.0010089308808783634,0.000032111650205199596,
0,0,0,0,0,0.0011634793634582965
};

const float three_inv_chol_sigma3[] = {
0.013524897927146173,-0.0002702719703324646,0.0032069468767391748,0.0015446963456231834,0.0003166964273216313,0.0021464863931081445,
0,0.0012404936389790809,0.0004482035055920897,0.00039316275051894074,0.0002677564516111207,-0.000033022594067542856,
0,0,0.001471954768180474,0.0003864581592692858,0.00009928975569928172,0.00003440974080247735,
0,0,0,0.001440952302466639,0.00016228259481475924,0.00018928863136266638,
0,0,0,0,0.00149635368169417,0.0001213244982085485,
0,0,0,0,0,0.00134776159004111
};

const float threelog_sqrt_det_sigma[] = {
35.1666087079129,
40.9328712718442,
37.1731180872357
};

const arm_matrix_instance_f32 three_inv_chol_sigma[] = {
  {
    .numCols = 6,
    .numRows = 6,
    .pData = (float*)three_inv_chol_sigma1
  },
  {
    .numCols = 6,
    .numRows = 6,
    .pData = (float*)three_inv_chol_sigma2
  },
  {
    .numCols = 6,
    .numRows = 6,
    .pData = (float*)three_inv_chol_sigma3
  }
};

const Word words[] = {
  [0] = {
    .transpost_A = {
      .numCols = 3,
      .numRows = 3,
      .pData = (float*)one_transpost_A
    },
    .mu = {
      .numCols = 3,
      .numRows = 6,
      .pData = (float*)one_transpost_mu
    },
    .inv_chol_sigma = (arm_matrix_instance_f32*)one_inv_chol_sigma,
    .log_sqrt_det_sigma = (float*)onelog_sqrt_det_sigma
  },
  [1] = { //[2]
    .transpost_A = {
      .numCols = 3,
      .numRows = 3,
      .pData = (float*)two_transpost_A
    },
    .mu = {
      .numCols = 3,
      .numRows = 6,
      .pData = (float*)two_transpost_mu
    },
    .inv_chol_sigma = (arm_matrix_instance_f32*)two_inv_chol_sigma,
    .log_sqrt_det_sigma = (float*)twolog_sqrt_det_sigma
  },
  [2] = {
    .transpost_A = {
      .numCols = 3,
      .numRows = 3,
      .pData = (float*)three_transpost_A
    },
    .mu = {
      .numCols = 3,
      .numRows = 6,
      .pData = (float*)three_transpost_mu
    },
    .inv_chol_sigma = (arm_matrix_instance_f32*)three_inv_chol_sigma,
    .log_sqrt_det_sigma = (float*)threelog_sqrt_det_sigma
  }
};

Words vocabulary = {
		.N = 3,		// number of states (fonemas)
		.D = 6,  // number of frequencies saved for each frame
		.number_of_words = 3,
		.sample_rate = 8000, //Fs=16000 //8000
		.frame_size = 125, //80
		.overlap = 50,
		.words = (Word*)words
};
